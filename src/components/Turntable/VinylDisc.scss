@use '../../assets/styles/variables' as *;
@use '../../assets/styles/animations' as *;

.vinyl-disc {
  position: relative;
  width: $vinyl-size;
  height: $vinyl-size;
  border-radius: 50%;
  background: $pure-black;
  box-shadow: $shadow-vinyl;
  transition: box-shadow $transition-slow, transform $transition-normal;

  &--spinning {
    animation: spin 1.8s linear infinite;
    box-shadow: $shadow-vinyl-playing;
    transform: translateY(-2px);

    .vinyl-disc__shine {
      animation: vinyl-shine 4s ease-in-out infinite;
    }
  }

  // Outer rim
  &__rim {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  // Grooves effect (enhanced realistic vinyl grooves)
  &__grooves {
    position: absolute;
    inset: 12%;
    border-radius: 50%;
    background: repeating-radial-gradient(
      circle at center,
      transparent 0px,
      transparent 1.5px,
      rgba(255, 255, 255, 0.02) 1.5px,
      rgba(255, 255, 255, 0.02) 2px,
      transparent 2px,
      transparent 3px,
      rgba(255, 255, 255, 0.04) 3px,
      rgba(255, 255, 255, 0.04) 3.5px,
      transparent 3.5px,
      transparent 6px
    );
    opacity: 0.8;
  }

  // Center label (minimal black/gray with depth)
  &__label {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 35%;
    height: 35%;
    border-radius: 50%;
    background: $dark-gray;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    box-shadow: $shadow-label-inset;
  }

  &__label-inner {
    position: absolute;
    inset: 8%;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  &__label-text {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: $space-xs $space-sm;
    width: 100%;
    overflow: hidden;
  }

  &__label-title {
    font-family: $font-display;
    font-size: clamp(0.4375rem, 1.5vw, 0.5625rem);
    font-weight: $weight-medium;
    color: $pure-white;
    letter-spacing: $tracking-tight;
    line-height: 1.2;
    width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    display: block;
  }

  &__label-brand {
    font-family: $font-body;
    font-size: clamp(0.3125rem, 1vw, 0.4375rem);
    font-weight: $weight-regular;
    color: rgba(255, 255, 255, 0.5);
    letter-spacing: $tracking-wider;
    margin-top: 2px;
    text-transform: uppercase;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
  }

  // Center spindle hole
  &__spindle {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 10%;
    height: 10%;
    border-radius: 50%;
    background: $pure-black;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.8);
  }

  // Shine/reflection effect (enhanced vinyl gloss)
  &__shine {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background:
      radial-gradient(
        circle at 30% 25%,
        rgba(255, 255, 255, 0.12) 0%,
        rgba(255, 255, 255, 0.04) 20%,
        transparent 45%
      ),
      linear-gradient(
        135deg,
        transparent 0%,
        transparent 42%,
        rgba(255, 255, 255, 0.04) 45%,
        rgba(255, 255, 255, 0.1) 50%,
        rgba(255, 255, 255, 0.04) 55%,
        transparent 58%,
        transparent 100%
      );
    pointer-events: none;
    opacity: 0.6;
  }
}

// Pause animation when not spinning
.vinyl-disc:not(.vinyl-disc--spinning) {
  animation-play-state: paused;
}
